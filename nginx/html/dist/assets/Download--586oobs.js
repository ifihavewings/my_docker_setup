import{d as l,o as c,a as r,w as d,l as i,Y as m,E as p}from"./index-u68fL4fj.js";import{d as f}from"./upload.api-1RZsuwcP.js";const w=t=>{const n=t["content-disposition"].split(";"),e=n.find(s=>s.includes("filename=")),o=n.find(s=>s.includes("filename*="));return console.log(e,o),e},u=(t,a)=>{const n=new Blob([t]),e=window.URL.createObjectURL(n),o=document.createElement("a");o.style.display="none",o.href=e,o.download=a,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(e)},y=l({__name:"Download",setup(t){const a=async n=>{try{const e=await f(n),o=w(e.headers);u(e.data,o)}catch{m({type:"error",message:"下载失败"})}};return(n,e)=>{const o=p;return c(),r(o,{onClick:e[0]||(e[0]=s=>a("1000"))},{default:d(()=>[i("download")]),_:1})}}});export{y as default};
