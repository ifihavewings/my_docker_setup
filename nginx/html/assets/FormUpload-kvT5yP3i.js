import{d as g,t as c,C as w,o as y,j as k,k as l,w as t,l as s,F,Y as v,E as C}from"./index-u68fL4fj.js";import{E}from"./el-progress-6B9pqSkC.js";import{f as U,a as x}from"./upload.api-1RZsuwcP.js";const N=g({__name:"FormUpload",setup(B){const p=c(),r=c([]),d=w({Authorization:localStorage.getItem("token")}),i=(e,o,a)=>{console.log(o,a),v.error(e.message)},u=e=>{console.log(e),r.value.push(e)},m=async()=>{const e=new FormData;e.append("hello","hello"),e.append("world","world"),e.append("file",r.value[0].raw),console.log(r);try{await U(e)}catch(o){console.log(o)}},n=c([]);console.log(123);const _=e=>{n.value.push(e)},h=async()=>{const e=new FormData;e.append("hello","hello"),e.append("world","world"),n.value.forEach(o=>{e.append("files",o.raw)});try{await x(e)}catch(o){console.log(o)}};return(e,o)=>{const a=C,f=E;return y(),k(F,null,[l(f,{ref_key:"uploadRef",ref:p,headers:d,method:"post","file-list":r.value,class:"upload-demo","on-error":i,"auto-upload":!1,"on-change":u},{trigger:t(()=>[l(a,{type:"primary"},{default:t(()=>[s("select file")]),_:1})]),_:1},8,["headers","file-list"]),l(a,{onClick:m},{default:t(()=>[s("upload1")]),_:1}),l(f,{ref_key:"uploadRef",ref:p,headers:d,method:"post","file-list":n.value,class:"upload-demo","on-error":i,"auto-upload":!1,"on-change":_,multiple:""},{trigger:t(()=>[l(a,{type:"primary"},{default:t(()=>[s("select files")]),_:1})]),_:1},8,["headers","file-list"]),l(a,{onClick:h},{default:t(()=>[s("upload2")]),_:1})],64)}}});export{N as default};
